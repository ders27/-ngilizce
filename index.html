<!DOCTYPE html><html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kelime Kartları & Test</title>
  <style>
    :root {
      --primary: #6a0dad;
      --accent: #ffa500;
      --bg: #f4f0ff;
      --text: #333;
      --correct: #28a745;
      --wrong: #dc3545;
    }
    body {
      font-family: Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      text-align: center;
      padding: 20px;
      transition: background-color 0.5s ease;
    }
    h1 { color: var(--primary); font-size: 2.2em; }
    .card {
      width: 360px;
      height: 240px;
      margin: 0 auto 20px;
      border: 4px solid var(--primary);
      border-radius: 15px;
      background: white;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      user-select: none;
      padding: 10px;
      box-sizing: border-box;
    }
    .card img {
      width: 80px;
      height: 80px;
      object-fit: contain;
      margin-bottom: 10px;
    }
    .card .text {
      font-size: 2em;
      color: var(--primary);
    }
    .controls button, .test-controls button, #backToCardsBtn {
      font-size: 1.2em;
      padding: 12px 24px;
      margin: 8px 6px;
      border-radius: 10px;
      border: none;
      background: var(--accent);
      color: white;
      cursor: pointer;
      transition: transform 0.15s ease;
    }
    button:hover:not(.disabled) { transform: scale(1.05); }
    .hide { display: none; }
    .question-box {
      width: 360px;
      min-height: 100px;
      margin: 0 auto 20px;
      border: 4px solid var(--primary);
      border-radius: 15px;
      background: white;
      font-size: 1.5em;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 10px;
      box-sizing: border-box;
    }
    .answers {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 20px;
      align-items: center;
    }
    .answer-btn {
      position: relative;
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 14px 16px 14px 50px;
      font-weight: bold;
      font-size: 1.3em;
      width: 340px;
      text-align: left;
      user-select: none;
      border: 3px solid var(--primary);
      border-radius: 10px;
      background: white;
      cursor: pointer;
      transition: background-color 0.3s, border-color 0.3s;
    }
    .answer-btn span.letter {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      width: 34px;
      height: 34px;
      line-height: 34px;
      border-radius: 50%;
      background: var(--primary);
      color: white;
      text-align: center;
      font-size: 1.2em;
      font-weight: bold;
    }
    .answer-btn.correct { background-color: var(--correct); border-color: var(--correct); color: white; }
    .answer-btn.wrong   { background-color: var(--wrong);   border-color: var(--wrong);   color: white; }
    .answer-btn.disabled { cursor: default; pointer-events: none; }
    #scoreDisplay { font-size: 1.4em; margin-top: 15px; color: var(--primary); }
  </style>
</head>
<body>  <h1>İngilizce Kelime Kartları</h1>
  <div class="card" id="card">
    <img id="cardImg" src="" alt="Kelime Görseli">
    <div class="text" id="cardText">Yükleniyor...</div>
  </div>
  <div class="controls" id="cardControls">
    <button id="prevBtn">Önceki</button>
    <button id="nextBtn">Sonraki</button>
    <button id="testBtn">Teste Geç</button>
  </div>  <div id="testArea" class="hide">
    <h2>20 Soruluk Kelime Testi</h2>
    <div class="question-box" id="question">Hazırlanıyor...</div>
    <div class="answers" id="answers"></div>
    <div id="scoreDisplay">Puan: 0</div>
    <button id="backToCardsBtn">Kartlara Geri Dön</button>
  </div>  <script>
    const words = [
      {en:"Apple", tr:"Elma",  img:"https://via.placeholder.com/80?text=🍎"},
      {en:"Dog",   tr:"Köpek", img:"https://via.placeholder.com/80?text=🐶"},
      {en:"Cat",   tr:"Kedi",  img:"https://via.placeholder.com/80?text=🐱"},
      // ... diğer kelimeler için uygun placeholder veya gerçek URL ekleyin
      {en:"Foot", tr:"Ayak",   img:"https://via.placeholder.com/80?text=🦶"}
    ];

    let currentIndex = 0;
    let quiz = [], qIndex = 0, score = 0;

    const cardImg       = document.getElementById('cardImg');
    const cardText      = document.getElementById('cardText');
    const card          = document.getElementById('card');
    const prevBtn       = document.getElementById('prevBtn');
    const nextBtn       = document.getElementById('nextBtn');
    const testBtn       = document.getElementById('testBtn');
    const cardControls  = document.getElementById('cardControls');
    const testArea      = document.getElementById('testArea');
    const questionBox   = document.getElementById('question');
    const answersBox    = document.getElementById('answers');
    const scoreDisplay  = document.getElementById('scoreDisplay');
    const backBtn       = document.getElementById('backToCardsBtn');
    const body          = document.body;

    function renderCard() {
      const w = words[currentIndex];
      cardImg.src = w.img;
      cardText.textContent = w.en;
    }
    prevBtn.onclick = () => { currentIndex = (currentIndex-1+words.length)%words.length; renderCard(); };
    nextBtn.onclick = () => { currentIndex = (currentIndex+1)%words.length; renderCard(); speak(words[currentIndex].en); };
    card.onclick    = () => { cardText.textContent = cardText.textContent===words[currentIndex].en ? words[currentIndex].tr : words[currentIndex].en; };

    testBtn.onclick = () => {
      quiz = words.slice().sort(()=>Math.random()-0.5).slice(0,20);
      qIndex = 0; score = 0;
      cardControls.classList.add('hide'); testArea.classList.remove('hide');
      body.style.backgroundColor = 'var(--bg)';
      loadQuestion(); updateScore();
    };
    backBtn.onclick = () => { testArea.classList.add('hide'); cardControls.classList.remove('hide'); renderCard(); };

    function updateScore() {
      scoreDisplay.textContent = `Puan: ${score} / ${quiz.length}   Soru: ${qIndex+1} / ${quiz.length}`;
    }
    function speak(text) {
      const u = new SpeechSynthesisUtterance(text);
      u.lang = 'en-US'; speechSynthesis.speak(u);
    }

    function loadQuestion() {
      clearFeedback(); answersBox.innerHTML = '';
      if(qIndex>=quiz.length) { questionBox.textContent="Test tamamlandı!"; return; }
      updateScore();
      const correct = quiz[qIndex]; questionBox.textContent = correct.tr;
      const opts = [correct];
      while(opts.length<4) { const r = words[Math.floor(Math.random()*words.length)]; if(!opts.includes(r)) opts.push(r); }
      opts.sort(()=>Math.random()-0.5);
      opts.forEach((o,i)=>{
        const btn = document.createElement('button'); btn.className='answer-btn';
        btn.innerHTML=`<span class="letter">${String.fromCharCode(65+i)}</span>${o.en}`;
        btn.onclick=()=>selectAnswer(btn,o,correct);
        answersBox.appendChild(btn);
      });
    }
    let feedbackTimeout;
    function selectAnswer(btn,opt,correct) {
      document.body.style.backgroundColor = opt===correct? 'var(--correct)':'var(--wrong)';
      if(opt===correct) { btn.classList.add('correct'); score++; playTone('correct'); }
      else { btn.classList.add('wrong'); playTone('wrong');
        answersBox.querySelectorAll('.answer-btn').forEach(b=>{ if(b.textContent.includes(correct.en)) b.classList.add('correct'); });
      }
      answersBox.querySelectorAll('button').forEach(b=>{ b.disabled=true; b.classList.add('disabled'); });
      updateScore();
      feedbackTimeout = setTimeout(()=>{ body.style.backgroundColor='var(--bg)'; qIndex++; loadQuestion(); },1500);
    }
    function clearFeedback() { clearTimeout(feedbackTimeout); body.style.backgroundColor='var(--bg)'; }

    function playTone(type) {
      const ctx = new (window.AudioContext||window.webkitAudioContext)();
      const o = ctx.createOscillator(), g = ctx.createGain(); o.connect(g); g.connect(ctx.destination);
      if(type==='correct') { o.frequency.value=600; g.gain.setValueAtTime(0.2,ctx.currentTime); o.start(); o.stop(ctx.currentTime+0.3); }
      else { o.frequency.value=200; g.gain.setValueAtTime(0.2,ctx.currentTime); o.start(); o.stop(ctx.currentTime+0.3); }
    }

    window.addEventListener('DOMContentLoaded', renderCard);
  </script></body>
</html>
