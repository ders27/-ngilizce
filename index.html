<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Kelime Kartları & Test</title>
<style>
  :root {
    --primary: #6a0dad;   /* mor */
    --accent: #ffa500;    /* turuncu */
    --bg: #f4f0ff;
    --text: #333;
    --correct: #28a745; /* yeşil */
    --wrong: #dc3545;   /* kırmızı */
  }
  body {
    font-family: Arial, sans-serif;
    background: var(--bg);
    color: var(--text);
    text-align: center;
    padding: 20px;
  }
  h1 { color: var(--primary); }
  .card, .question-box {
    width: 320px; height: 200px;
    margin: 0 auto 20px;
    border: 4px solid var(--primary);
    border-radius: 15px;
    font-size: 2em;
    display: flex; justify-content: center; align-items: center;
    background: white;
    user-select: none;
  }
  .controls, .test-controls {
    margin: 10px;
  }
  button {
    font-size: 1em;
    padding: 8px 16px;
    margin: 5px;
    border-radius: 8px;
    border: none;
    background: var(--accent);
    color: white;
    cursor: pointer;
    transition: transform .1s;
  }
  button:hover:not(.disabled) { transform: scale(1.05); }
  .hide { display: none; }
  #scoreDisplay {
    font-size: 1.2em;
    margin-top: 15px;
    color: var(--primary);
  }
  .answer-btn {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 12px;
    padding-left: 10px;
    font-weight: bold;
    font-size: 1.1em;
    min-width: 260px;
    text-align: left;
    user-select: none;
  }
  .answer-btn span.letter {
    display: inline-block;
    width: 30px;
    height: 30px;
    line-height: 30px;
    border-radius: 50%;
    background: var(--primary);
    color: white;
    font-weight: bold;
    text-align: center;
  }
  .answer-btn.correct {
    background-color: var(--correct);
    color: white;
  }
  .answer-btn.wrong {
    background-color: var(--wrong);
    color: white;
  }
  .answer-btn.disabled {
    cursor: default;
    pointer-events: none;
  }
</style>
</head>
<body>

<h1>İngilizce Kelime Kartları</h1>
<div class="card" id="card">Yükleniyor...</div>
<div class="controls" id="cardControls">
  <button id="prevBtn">Önceki</button>
  <button id="nextBtn">Sonraki</button>
  <button id="testBtn">Teste Geç</button>
</div>

<div id="testArea" class="hide">
  <h2>Kelime Testi (<span id="qIndex">0</span>/100)</h2>
  <div class="question-box" id="question">Hazırlanıyor...</div>
  <div class="test-controls" id="answers"></div>
  <div id="scoreDisplay">Puan: 0</div>
  <button id="restartBtn">Tekrar Kartlara Dön</button>
</div>

<script>
  const words = [
    {en:"Hello",tr:"Merhaba"},{en:"Goodbye",tr:"Hoşça kal"},{en:"Please",tr:"Lütfen"},
    {en:"Thank you",tr:"Teşekkür ederim"},{en:"Sorry",tr:"Özür dilerim"},{en:"Yes",tr:"Evet"},
    {en:"No",tr:"Hayır"},{en:"Welcome",tr:"Hoş geldin"},{en:"Excuse me",tr:"Afedersiniz"},
    {en:"OK",tr:"Tamam"},{en:"Mother",tr:"Anne"},{en:"Father",tr:"Baba"},
    {en:"Sister",tr:"Kız kardeş"},{en:"Brother",tr:"Erkek kardeş"},{en:"Friend",tr:"Arkadaş"},
    {en:"Baby",tr:"Bebek"},{en:"Girl",tr:"Kız"},{en:"Boy",tr:"Erkek"},{en:"Family",tr:"Aile"},
    {en:"People",tr:"İnsanlar"},{en:"House",tr:"Ev"},{en:"Room",tr:"Oda"},
    {en:"Bed",tr:"Yatak"},{en:"Table",tr:"Masa"},{en:"Chair",tr:"Sandalye"},
    {en:"Door",tr:"Kapı"},{en:"Window",tr:"Pencere"},{en:"TV",tr:"Televizyon"},
    {en:"Lamp",tr:"Lamba"},{en:"Carpet",tr:"Halı"},{en:"School",tr:"Okul"},
    {en:"Teacher",tr:"Öğretmen"},{en:"Student",tr:"Öğrenci"},{en:"Book",tr:"Kitap"},
    {en:"Pen",tr:"Tükenmez kalem"},{en:"Pencil",tr:"Kurşun kalem"},{en:"Bag",tr:"Çanta"},
    {en:"Ruler",tr:"Cetvel"},{en:"Eraser",tr:"Silgi"},{en:"Board",tr:"Tahta"},
    {en:"Dog",tr:"Köpek"},{en:"Cat",tr:"Kedi"},{en:"Bird",tr:"Kuş"},{en:"Fish",tr:"Balık"},
    {en:"Cow",tr:"İnek"},{en:"Horse",tr:"At"},{en:"Duck",tr:"Ördek"},{en:"Lion",tr:"Aslan"},
    {en:"Elephant",tr:"Fil"},{en:"Monkey",tr:"Maymun"},{en:"Apple",tr:"Elma"},
    {en:"Banana",tr:"Muz"},{en:"Bread",tr:"Ekmek"},{en:"Water",tr:"Su"},{en:"Milk",tr:"Süt"},
    {en:"Egg",tr:"Yumurta"},{en:"Cheese",tr:"Peynir"},{en:"Meat",tr:"Et"},{en:"Rice",tr:"Pirinç"},
    {en:"Cake",tr:"Kek"},{en:"Red",tr:"Kırmızı"},{en:"Blue",tr:"Mavi"},{en:"Green",tr:"Yeşil"},
    {en:"Yellow",tr:"Sarı"},{en:"Black",tr:"Siyah"},{en:"White",tr:"Beyaz"},
    {en:"Orange",tr:"Turuncu"},{en:"Pink",tr:"Pembe"},{en:"Brown",tr:"Kahverengi"},
    {en:"Purple",tr:"Mor"},{en:"One",tr:"Bir"},{en:"Two",tr:"İki"},{en:"Three",tr:"Üç"},
    {en:"Four",tr:"Dört"},{en:"Five",tr:"Beş"},{en:"Day",tr:"Gün"},{en:"Night",tr:"Gece"},
    {en:"Morning",tr:"Sabah"},{en:"Evening",tr:"Akşam"},{en:"Today",tr:"Bugün"},
    {en:"Shirt",tr:"Gömlek"},{en:"Pants",tr:"Pantolon"},{en:"Dress",tr:"Elbise"},
    {en:"Skirt",tr:"Etek"},{en:"Shoes",tr:"Ayakkabı"},{en:"Socks",tr:"Çorap"},
    {en:"Hat",tr:"Şapka"},{en:"Jacket",tr:"Ceket"},{en:"Coat",tr:"Kaban"},
    {en:"T-shirt",tr:"Tişört"},{en:"Head",tr:"Kafa"},{en:"Hair",tr:"Saç"},
    {en:"Eye",tr:"Göz"},{en:"Nose",tr:"Burun"},{en:"Mouth",tr:"Ağız"},{en:"Ear",tr:"Kulak"},
    {en:"Hand",tr:"El"},{en:"Arm",tr:"Kol"},{en:"Leg",tr:"Bacak"},{en:"Foot",tr:"Ayak"}
  ];

  const card = document.getElementById('card'),
        prevBtn = document.getElementById('prevBtn'),
        nextBtn = document.getElementById('nextBtn'),
        testBtn = document.getElementById('testBtn'),
        cardControls = document.getElementById('cardControls'),
        testArea = document.getElementById('testArea'),
        questionBox = document.getElementById('question'),
        answersBox = document.getElementById('answers'),
        qIndexEl = document.getElementById('qIndex'),
        scoreDisplay = document.getElementById('scoreDisplay'),
        restartBtn = document.getElementById('restartBtn');

  let currentIndex = 0, showingEnglish = true;
  let quizWords = [], quizIndex = 0, score = 0;
  const choiceLetters = ['A', 'B', 'C', 'D'];

  function showEnglish() {
    card.textContent = words[currentIndex].en;
    showingEnglish = true;
  }
  function showTurkish() {
    card.textContent = words[currentIndex].tr;
    showingEnglish = false;
  }
  card.addEventListener('click', () => {
    showingEnglish ? showTurkish() : showEnglish();
  });
  prevBtn.onclick = () => {
    currentIndex = (currentIndex - 1 + words.length) % words.length;
    showEnglish();
  };
  nextBtn.onclick = () => {
    currentIndex = (currentIndex + 1) % words.length;
    showEnglish();
    // İngilizce kelimeyi sesli oku
    const utterance = new SpeechSynthesisUtterance(words[currentIndex].en);
    utterance.lang = 'en-US';
    speechSynthesis.speak(utterance);
  };

  testBtn.onclick = () => {
    quizWords = words.slice().sort(() => Math.random() - 0.5);
    quizIndex = 0;
    score = 0;
    cardControls.classList.add('hide');
    testArea.classList.remove('hide');
    loadTest();
  };

  restartBtn.onclick = () => {
    testArea.classList.add('hide');
    cardControls.classList.remove('hide');
    showEnglish();
  };

  function loadTest() {
    clearFeedback();
    if (quizIndex >= quizWords.length) {
      questionBox.textContent = "Test tamamlandı!";
      answersBox.innerHTML = "";
      scoreDisplay.textContent = `Puanın: ${score} / ${quizWords.length}`;
      return;
    }
    let correct = quizWords[quizIndex];
    let options = [correct];
    while (options.length < 4) {
      let option = words[Math.floor(Math.random() * words.length)];
      if (!options.includes(option)) options.push(option);
    }
    options.sort(() => Math.random() - 0.5);

    qIndexEl.textContent = quizIndex + 1;
    questionBox.textContent = correct.tr;
    scoreDisplay.textContent = `Puan: ${score}`;

    answersBox.innerHTML = "";
    options.forEach((opt, i) => {
      const btn = document.createElement('button');
      btn.className = 'answer-btn';
      btn.innerHTML = `<span class="letter">${choiceLetters[i]}</span> ${opt.en}`;
      btn.onclick = () => answerSelected(btn, opt, correct);
      answersBox.appendChild(btn);
    });
  }

  function answerSelected(button, selectedOpt, correctOpt) {
    disableButtons();
    const buttons = answersBox.querySelectorAll('button');

    if (selectedOpt === correctOpt) {
      button.classList.add('correct');
      score++;
      speakFunny("Aferim Miraç!");
    } else {
      button.classList.add('wrong');
      // Doğru cevabı yeşil yap
      buttons.forEach(btn => {
        if (btn.textContent.includes(correctOpt.en)) btn.classList.add('correct');
      });
      speakFunny("Bilemedin Miraç!");
    }
    scoreDisplay.textContent = `Puan: ${score}`;
    quizIndex++;

    // 1 saniye sonra diğer soruya geç
    setTimeout(loadTest, 1000);
  }

  function disableButtons() {
    const buttons = answersBox.querySelectorAll('button');
    buttons.forEach(btn => {
      btn.classList.add('disabled');
      btn.disabled = true;
    });
  }

  function clearFeedback() {
    const buttons = answersBox.querySelectorAll('button');
    buttons.forEach(btn => {
      btn.classList.remove('correct', 'wrong', 'disabled');
      btn.disabled = false;
    });
  }

  function speakFunny(text) {
    const u = new SpeechSynthesisUtterance(text);
    u.lang = 'tr-TR';
    u.pitch = Math.random() * 2;
    u.rate = 0.8 + Math.random() * 0.7;
    speechSynthesis.speak(u);
  }

  window.addEventListener('DOMContentLoaded', showEnglish);
</script>

</body>
</html>
