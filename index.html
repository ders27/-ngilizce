<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kelime KartlarÄ± & Test</title>
  <style>
    :root {
      --primary: #6a0dad;
      --accent: #ffa500;
      --bg: #f4f0ff;
      --text: #333;
      --correct: #28a745;
      --wrong: #dc3545;
    }
    body {
      font-family: Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      text-align: center;
      padding: 20px;
      transition: background-color 0.5s ease;
    }
    h1 {
      color: var(--primary);
      font-size: 2.2em;
    }
    .card, .question-box {
      width: 340px;
      height: 220px;
      margin: 0 auto 20px;
      border: 4px solid var(--primary);
      border-radius: 15px;
      font-size: 2.5em;
      display: flex;
      justify-content: center;
      align-items: center;
      background: white;
      user-select: none;
      padding: 0 10px;
      box-sizing: border-box;
    }
    .controls, .test-controls {
      margin: 10px;
    }
    button {
      font-size: 1.2em;
      padding: 12px 24px;
      margin: 8px 6px;
      border-radius: 10px;
      border: none;
      background: var(--accent);
      color: white;
      cursor: pointer;
      transition: transform 0.15s ease;
    }
    button:hover:not(.disabled) {
      transform: scale(1.05);
    }
    .hide {
      display: none;
    }
    #scoreDisplay {
      font-size: 1.4em;
      margin-top: 15px;
      color: var(--primary);
    }
    .answer-btn {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 14px;
      padding: 14px 16px 14px 50px;
      font-weight: bold;
      font-size: 1.3em;
      min-width: 300px;
      text-align: left;
      user-select: none;
      border: 3px solid var(--primary);
      border-radius: 10px;
      background: white;
      cursor: pointer;
      transition: background-color 0.3s, border-color 0.3s;
      margin: 8px auto;
    }
    .answer-btn span.letter {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      width: 34px;
      height: 34px;
      line-height: 34px;
      border-radius: 50%;
      background: var(--primary);
      color: white;
      font-weight: bold;
      font-size: 1.2em;
      text-align: center;
    }
    .answer-btn.correct {
      background-color: var(--correct);
      border-color: var(--correct);
      color: white;
    }
    .answer-btn.wrong {
      background-color: var(--wrong);
      border-color: var(--wrong);
      color: white;
    }
    .answer-btn.disabled {
      cursor: default;
      pointer-events: none;
    }
  </style>
</head>
<body>

  <h1>Ä°ngilizce Kelime KartlarÄ±</h1>
  <div class="card" id="card">YÃ¼kleniyor...</div>
  <div class="controls" id="cardControls">
    <button id="prevBtn">Ã–nceki</button>
    <button id="nextBtn">Sonraki</button>
    <button id="testBtn">Teste GeÃ§</button>
  </div>

  <div id="testArea" class="hide">
    <h2>20 Soruluk Kelime Testi</h2>
    <div class="question-box" id="question">HazÄ±rlanÄ±yor...</div>
    <div class="test-controls" id="answers"></div>
    <div id="scoreDisplay">Puan: 0</div>
    <button id="backToCardsBtn">Kartlara Geri DÃ¶n</button>
  </div>

  <script>
    const words = [
      {en:"Hello",tr:"Merhaba"},{en:"Goodbye",tr:"HoÅŸÃ§a kal"},{en:"Please",tr:"LÃ¼tfen"},
      {en:"Thank you",tr:"TeÅŸekkÃ¼r ederim"},{en:"Sorry",tr:"Ã–zÃ¼r dilerim"},{en:"Yes",tr:"Evet"},
      {en:"No",tr:"HayÄ±r"},{en:"Welcome",tr:"HoÅŸ geldin"},{en:"Excuse me",tr:"Afedersiniz"},
      {en:"OK",tr:"Tamam"},{en:"Mother",tr:"Anne"},{en:"Father",tr:"Baba"},
      {en:"Sister",tr:"KÄ±z kardeÅŸ"},{en:"Brother",tr:"Erkek kardeÅŸ"},{en:"Friend",tr:"ArkadaÅŸ"},
      {en:"Baby",tr:"Bebek"},{en:"Girl",tr:"KÄ±z"},{en:"Boy",tr:"Erkek"},{en:"Family",tr:"Aile"},
      {en:"People",tr:"Ä°nsanlar"},{en:"House",tr:"Ev"},{en:"Room",tr:"Oda"},
      {en:"Bed",tr:"Yatak"},{en:"Table",tr:"Masa"},{en:"Chair",tr:"Sandalye"},
      {en:"Door",tr:"KapÄ±"},{en:"Window",tr:"Pencere"},{en:"TV",tr:"Televizyon"},
      {en:"Lamp",tr:"Lamba"},{en:"Carpet",tr:"HalÄ±"},{en:"School",tr:"Okul"},
      {en:"Teacher",tr:"Ã–ÄŸretmen"},{en:"Student",tr:"Ã–ÄŸrenci"},{en:"Book",tr:"Kitap"},
      {en:"Pen",tr:"TÃ¼kenmez kalem"},{en:"Pencil",tr:"KurÅŸun kalem"},{en:"Bag",tr:"Ã‡anta"},
      {en:"Ruler",tr:"Cetvel"},{en:"Eraser",tr:"Silgi"},{en:"Board",tr:"Tahta"},
      {en:"Dog",tr:"KÃ¶pek"},{en:"Cat",tr:"Kedi"},{en:"Bird",tr:"KuÅŸ"},{en:"Fish",tr:"BalÄ±k"},
      {en:"Cow",tr:"Ä°nek"},{en:"Horse",tr:"At"},{en:"Duck",tr:"Ã–rdek"},{en:"Lion",tr:"Aslan"},
      {en:"Elephant",tr:"Fil"},{en:"Monkey",tr:"Maymun"},{en:"Apple",tr:"Elma"},
      {en:"Banana",tr:"Muz"},{en:"Bread",tr:"Ekmek"},{en:"Water",tr:"Su"},{en:"Milk",tr:"SÃ¼t"},
      {en:"Egg",tr:"Yumurta"},{en:"Cheese",tr:"Peynir"},{en:"Meat",tr:"Et"},{en:"Rice",tr:"PirinÃ§"},
      {en:"Cake",tr:"Kek"},{en:"Red",tr:"KÄ±rmÄ±zÄ±"},{en:"Blue",tr:"Mavi"},{en:"Green",tr:"YeÅŸil"},
      {en:"Yellow",tr:"SarÄ±"},{en:"Black",tr:"Siyah"},{en:"White",tr:"Beyaz"},
      {en:"Orange",tr:"Turuncu"},{en:"Pink",tr:"Pembe"},{en:"Brown",tr:"Kahverengi"},
      {en:"Purple",tr:"Mor"},{en:"One",tr:"Bir"},{en:"Two",tr:"Ä°ki"},{en:"Three",tr:"ÃœÃ§"},
      {en:"Four",tr:"DÃ¶rt"},{en:"Five",tr:"BeÅŸ"},{en:"Day",tr:"GÃ¼n"},{en:"Night",tr:"Gece"},
      {en:"Morning",tr:"Sabah"},{en:"Evening",tr:"AkÅŸam"},{en:"Today",tr:"BugÃ¼n"},
      {en:"Shirt",tr:"GÃ¶mlek"},{en:"Pants",tr:"Pantolon"},{en:"Dress",tr:"Elbise"},
      {en:"Skirt",tr:"Etek"},{en:"Shoes",tr:"AyakkabÄ±"},{en:"Socks",tr:"Ã‡orap"},
      {en:"Hat",tr:"Åžapka"},{en:"Jacket",tr:"Ceket"},{en:"Coat",tr:"Kaban"},
      {en:"T-shirt",tr:"TiÅŸÃ¶rt"},{en:"Head",tr:"Kafa"},{en:"Hair",tr:"SaÃ§"},
      {en:"Eye",tr:"GÃ¶z"},{en:"Nose",tr:"Burun"},{en:"Mouth",tr:"AÄŸÄ±z"},{en:"Ear",tr:"Kulak"},
      {en:"Hand",tr:"El"},{en:"Arm",tr:"Kol"},{en:"Leg",tr:"Bacak"},{en:"Foot",tr:"Ayak"}
    ];

    // Kart ve test arasÄ± elementler
    const card = document.getElementById('card');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const testBtn = document.getElementById('testBtn');
    const cardControls = document.getElementById('cardControls');

    const testArea = document.getElementById('testArea');
    const questionBox = document.getElementById('question');
    const answersBox = document.getElementById('answers');
    const scoreDisplay = document.getElementById('scoreDisplay');
    const backToCardsBtn = document.getElementById('backToCardsBtn');

    let currentIndex = 0;
    let showingEnglish = true;

    let quiz = [];
    let qIndex = 0;
    let score = 0;
    let feedbackTimeout;

    // Kart gÃ¶sterimi fonksiyonlarÄ±
    function showEnglish() {
      card.textContent = words[currentIndex].en;
      showingEnglish = true;
    }
    function showTurkish() {
      card.textContent = words[currentIndex].tr;
      showingEnglish = false;
    }
    card.addEventListener('click', () => {
      if(showingEnglish) showTurkish();
      else showEnglish();
    });
    prevBtn.onclick = () => {
      currentIndex = (currentIndex - 1 + words.length) % words.length;
      showEnglish();
    };
    nextBtn.onclick = () => {
      currentIndex = (currentIndex + 1) % words.length;
      showEnglish();
      // Ä°ngilizce kelimeyi sesli oku
      const utterance = new SpeechSynthesisUtterance(words[currentIndex].en);
      utterance.lang = 'en-US';
      speechSynthesis.speak(utterance);
    };

    // Teste geÃ§iÅŸ
    testBtn.onclick = () => {
      quiz = words.slice().sort(() => Math.random() - 0.5).slice(0, 20);
      qIndex = 0;
      score = 0;
      cardControls.classList.add('hide');
      testArea.classList.remove('hide');
      document.body.style.backgroundColor = 'var(--bg)';
      loadQuestion();
      updateScore();
    };

    backToCardsBtn.onclick = () => {
      cardControls.classList.remove('hide');
      testArea.classList.add('hide');
      document.body.style.backgroundColor = 'var(--bg)';
      showEnglish();
      clearTimeout(feedbackTimeout);
    };

    function updateScore() {
      scoreDisplay.textContent = `Puan: ${score} / ${quiz.length}   Soru: ${qIndex+1} / ${quiz.length}`;
    }

    function loadQuestion() {
      clearFeedback();
      answersBox.innerHTML = '';
      if (qIndex >= quiz.length) {
        questionBox.textContent = "Test tamamlandÄ±! ðŸŽ‰";
        answersBox.innerHTML = '';
        return;
      }

      updateScore();

      const correct = quiz[qIndex];
      questionBox.textContent = correct.tr;

      // 4 ÅŸÄ±k oluÅŸtur
      let options = [correct];
      while(options.length < 4) {
        let opt = words[Math.floor(Math.random() * words.length)];
        if(!options.includes(opt)) options.push(opt);
      }
      options.sort(() => Math.random() - 0.5);

      options.forEach((opt,i) => {
        const btn = document.createElement('button');
        btn.className = 'answer-btn';
        btn.innerHTML = `<span class="letter">${String.fromCharCode(65+i)}</span> ${opt.en}`;
        btn.onclick = () => answerSelected(btn, opt, correct);
        answersBox.appendChild(btn);
      });
    }

    function answerSelected(button, selectedOpt, correctOpt) {
      // TÄ±klamayÄ± engelle
      const buttons = answersBox.querySelectorAll('button');
      buttons.forEach(b => {
        b.disabled = true;
        b.classList.add('disabled');
      });

      if(selectedOpt === correctOpt) {
        button.classList.add('correct');
        score++;
        // Ekran yeÅŸil yanar
        document.body.style.backgroundColor = 'var(--correct)';
        playSound('correct');
      } else {
        button.classList.add('wrong');
        // DoÄŸru cevabÄ± da yeÅŸil yap
        buttons.forEach(b => {
          if(b.textContent.includes(correctOpt.en)) b.classList.add('correct');
        });
        // Ekran kÄ±rmÄ±zÄ± yanar
        document.body.style.backgroundColor = 'var(--wrong)';
        playSound('wrong');
      }
      updateScore();

      // 1.5 saniye sonra sonraki soru
      feedbackTimeout = setTimeout(() => {
        document.body.style.backgroundColor = 'var(--bg)';
        qIndex++;
        loadQuestion();
      }, 1500);
    }

    function clearFeedback() {
      // Renkleri ve disable durumunu temizle
      document.body.style.backgroundColor = 'var(--bg)';
      const buttons = answersBox.querySelectorAll('button');
      buttons.forEach(b => {
        b.classList.remove('correct', 'wrong', 'disabled');
        b.disabled = false;
      });
      clearTimeout(feedbackTimeout);
    }

    // DoÄŸru ve yanlÄ±ÅŸ sesleri (kÄ±sa beÄŸeni ve uyarÄ± tonlarÄ±)
    function playSound(type) {
      const ctx = new (window.AudioContext || window.webkitAudioContext)();
      const o = ctx.createOscillator();
      const g = ctx.createGain();
      o.connect(g);
      g.connect(ctx.destination);

      if(type === 'correct') {
        // GÃ¼zel bir yÃ¼kselen ton (doÄŸru)
        o.frequency.value = 440;
        g.gain.setValueAtTime(0.001, ctx.currentTime);
        g.gain.linearRampToValueAtTime(0.15, ctx.currentTime + 0.1);
        o.frequency.exponentialRampToValueAtTime(880, ctx.currentTime + 0.3);
        g.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.5);
        o.start(ctx.currentTime);
        o.stop(ctx.currentTime + 0.5);
      } else if(type === 'wrong') {
        // UyarÄ± sesi (daha dÃ¼ÅŸÃ¼k ve dÃ¼ÅŸen ton)
        o.frequency.value = 220;
        g.gain.setValueAtTime(0.15, ctx.currentTime);
        o.frequency.exponentialRampToValueAtTime(110, ctx.currentTime + 0.3);
        g.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.5);
        o.start(ctx.currentTime);
        o.stop(ctx.currentTime + 0.5);
      }
    }

    // Sayfa yÃ¼klendiÄŸinde kart gÃ¶sterimi baÅŸlasÄ±n
    window.addEventListener('DOMContentLoaded', () => {
      showEnglish();
    });
  </script>

</body>
</html>
